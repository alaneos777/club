#include <bits/stdc++.h>
using namespace std;;
using lli = long long int;
const lli mod = 1ll<<30;

lli rec(vector<lli> P, vector<lli> init, lli n){
	reverse(P.begin(), P.end());
	P.pop_back();
	assert(P.size() == init.size());
	int deg = P.size();
	for(int i = 0; i < deg; ++i){
		init[i] = (init[i]%mod + mod) % mod;
		P[i] = -P[i];
		P[i] = (P[i]%mod + mod) % mod;
	}
	vector<lli> ans(deg), R(2*deg);
	ans[0] = 1;
	lli p = 1;
	for(lli v = n; v >>= 1; p <<= 1);
	do{
		int d = (n & p) != 0;
		fill(R.begin(), R.end(), 0);
		for(int i = 0; i < deg; i++)
			for(int j = 0; j < deg; j++)
				(R[i + j + d] += ans[i] * ans[j]) %= mod;
		for(int i = deg-1; i >= 0; i--)
			for(int j = 0; j < deg; j++)
				(R[i + j] += R[i + deg] * P[j]) %= mod;
		copy(R.begin(), R.begin() + deg, ans.begin());
	}while(p >>= 1);
	lli nValue = 0;
	for(int i = 0; i < deg; i++)
		(nValue += ans[i] * init[i]) %= mod;
	return nValue;
}

int main(){
	vector<lli> initA = {1, 2, 1, 3, 4, 3, 4, 6, 8, 12, 13, 18, 24, 33, 39, 52, 67, 88, 113,
		155, 211, 264, 331, 455, 596, 762, 1000, 1288, 1688, 2222, 2884,
		3754, 4915, 6364, 8300, 10845, 14138, 18372, 23966, 31254, 40821,
		53113, 69336, 90273, 117678, 153518, 199990, 260671, 340007, 442943,
		577508, 753198, 981549, 1279278, 1667977, 2174254, 2833629, 3694922,
		4815820, 6277803, 8183863, 10669039, 13906708, 18129293, 23633257,
		30806207, 40158060, 52352642, 68240827, 88959717, 115967551, 151170348,
		197062717, 256889008, 334874131, 436526087, 569057058, 741802884};
	vector<lli> pA = {1, 0, -1, -2, -1, 2, 2, 1, -1, -1, -1, -1, -1, 2, 5, 3, -2, -10, -3,
		-2, 6, 6, 1, 9, -3, -7, -8, -8, 10, 6, 8, -5, -12, 7, -7, 7, 1, -3,
		10, 1, -6, -2, -10, -3, 2, 9, -3, 14, -8, 0, -7, 9, 3, -4, -10, -7,
		12, 7, 2, -12, -4, -2, 5, 0, 1, -7, 7, -4, 12, -6, 3, -6, 0, 0, 0, 0, 0, 0, 0};

	vector<lli> initB = {0, 0, 1, 1, 2, 2, 3, 2, 3, 4, 8, 10, 14, 18, 24, 28, 41, 56, 69, 91,
		123, 164, 221, 286, 366, 494, 636, 832, 1095, 1423, 1847, 2440, 3154,
		4166, 5366, 7025, 9119, 11925, 15495, 20259, 26320, 34409, 44827,
		58432, 76193, 99353, 129347, 168789, 219947, 286629, 373946, 487068,
		635384, 827997, 1079630, 1406896, 1834405, 2390723, 3116889, 4062500,
		5296800, 6903398, 9000648, 11731820, 15294780, 19936176, 25989654,
		33878726, 44162056, 57571828, 75046243, 97830808, 127529655,
		166245780, 216712312, 282504612, 368261992, 480063032, 625786818};
	vector<lli> pB = {1, -1, -1, -1, 1, 3, 0, -1, -2, 0, 0, 0, 0, 3, 3, -2, -5, -8, 7, 1,
		8, 0, -5, 8, -12, -4, -1, 0, 18, -4, 2, -13, -7, 19, -14, 14, -6, -4,
		13, -9, -7, 4, -8, 7, 5, 7, -12, 17, -22, 8, -7, 16, -6, -7, -6, 3,
		19, -5, -5, -14, 8, 2, 7, -5, 1, -8, 14, -11, 16, -18, 9, -9, 6, 0, 0, 0, 0, 0, 0, 0};

	vector<lli> initC = {0, 0, 0, 0, 0, 1, 1, 2, 3, 4, 5, 6, 8, 11, 15, 22, 26, 32, 44, 56,
		74, 100, 126, 163, 220, 284, 376, 486, 627, 817, 1077, 1392, 1829,
		2354, 3108, 4020, 5271, 6861, 8949, 11625, 15209, 19790, 25821,
		33671, 43875, 57165, 74629, 97186, 126692, 165238, 215188, 280720,
		365777, 477029, 621549, 810552, 1056452, 1377215, 1795221, 2340549,
		3050221, 3977107, 5183828, 6758049, 8808899, 11484231, 14969652,
		19513856, 25439677, 33160053, 43227992, 56350638, 73457598, 95756570,
		124828355, 162722051, 212121142, 276514188, 360465948};
	vector<lli> pC = {1, -1, -1, -1, 1, 3, 0, -1, -2, 0, 0, 0, 0, 3, 3, -2, -5, -8, 7, 1,
		8, 0, -5, 8, -12, -4, -1, 0, 18, -4, 2, -13, -7, 19, -14, 14, -6, -4,
		13, -9, -7, 4, -8, 7, 5, 7, -12, 17, -22, 8, -7, 16, -6, -7, -6, 3,
		19, -5, -5, -14, 8, 2, 7, -5, 1, -8, 14, -11, 16, -18, 9, -9, 6, 0, 0, 0, 0, 0, 0, 0};

	lli n = 1e12;
	cout << rec(pA, initA, n-1) << "," << rec(pB, initB, n-1) << "," << rec(pC, initC, n-1) << "\n"; 
	return 0;
}